* {
    font-family: sans-serif;
    box-sizing: border-box;
    user-select: none;
}

html {
    margin: 0;
    padding: 0;
    height: 100%;
}

body {
    display: flex;
    margin: 0;
    height: 100%;
    color: white;
    text-shadow: 2px 2px 1px #000;
    padding: 14px 16px 12px 14px;
    background-image: url(./images/body-border-top-left.png), url(./images/body-border-top-right.png), url(./images/body-border-bottom-left.png), url(./images/body-border-bottom-right.png), url(./images/body-border-top.png), url(./images/body-border-left.png), url(./images/body-border-right.png), url(./images/body-border-bottom.png), url(./images/bg-dark-sandstone.png);
    background-repeat: no-repeat, no-repeat, no-repeat, no-repeat, repeat-x, repeat-y, repeat-y, repeat-x, repeat;
    background-position: top left, top right, bottom left, bottom right, top left, top left, top right, bottom left, top left;
}

input, textarea { user-select: unset; }

.buttonrow .spacer { flex: 1; }

.card {
    display: none;
    flex: 1;
    flex-direction: column;
    overflow: hidden;
}

body.loggedin > .card.loggedin,
body.login > .card.login,
body.register > .card.register,
body.addquest > .card.addquest,
body.editquest > .card.editquest,
body.addfriend > .card.addfriend,
body.editfriend > .card.editfriend,
body.playerquestdetails > .card.playerquestdetails
{
    display: flex;
}

button {
    cursor: pointer;
    background-image: url(./images/button-red-up-left.png), url(./images/button-red-up-right.png), url(./images/button-red-up-middle.png);
    background-repeat: no-repeat;
    background-position: left, right, center;
    border: none;
    height: 32px;
    min-width: 80px;
    padding: 0 9px;
    background-size: auto, auto, 100% 100%;
    background-clip: border-box, border-box, content-box;
    color: #FFD100;
    text-shadow: 2px 2px 1px #000;
}

button:hover {
    background-image: url(./images/button-highlight.png), url(./images/button-red-up-left.png), url(./images/button-red-up-right.png), url(./images/button-red-up-middle.png);
    background-position: center, left, right, center;
    background-size: 100% 100%, auto, auto, 100% 100%;
    background-clip: border-box, border-box, border-box, content-box;
    color: white;
}

button:active {
    background-image: url(./images/button-red-down-left.png), url(./images/button-red-down-right.png), url(./images/button-red-down-middle.png);
    background-repeat: no-repeat;
    background-position: left, right, center;
    background-size: auto, auto, 100% 100%;
    background-clip: border-box, border-box, content-box;
    color: transparent;
    text-shadow: -4px 3px 1px #fff, -2px 5px 1px #000;
}

button:focus { outline:0; }

.errormessage {
    display: none;
}

.tab {
    display: none;
    flex-direction: column;
    flex: 1;
}

.card.playerquests .tab.playerquests,
.card.friends .tab.friends, 
.card.quests .tab.quests,
.card.friends .buttonrow.friends, 
.card.quests .buttonrow.quests {
    display: flex;
}

.card.playerquests button.playerquests,
.card.quests button.quests,
.card.friends button.friends {
    background-image: url(./images/tabs-border-top-left.png), url(./images/tabs-border-top-right.png), url(./images/tabs-border-bottom-left-out.png), url(./images/tabs-border-bottom-right-out.png), url(./images/button-highlight-yellow.png), url(./images/bg-marble.png);
    background-repeat: no-repeat, no-repeat, no-repeat, no-repeat, repeat-x, repeat;
    background-position: top left, top right, bottom left, bottom right, top left, top left;
    background-clip: border-box, border-box, border-box, border-box, padding-box, padding-box;
    color: #FFD100;
    border-width: 7px 5px 4px 5px;
    padding: 6px 5px 8px 5px;
    top: 0;
}

.card.playerquests button.playerquests::after,
.card.quests button.quests::after,
.card.friends button.friends::after {
    bottom: 7px;
}

.card.quests button.hideinvisible, .card.quests.showinvisible button.showinvisible {
    display: none;
}

.card.quests.showinvisible button.hideinvisible {
    display: block;
}

/* Quest difficulty colors */
.card.quests .list .quest { padding-left: 18px; margin-left: 18px; background-repeat: no-repeat; background-position-x: left; }
.card.quests .list .effort5 { color: #00e000; }
.card.quests .list .effort30 { color: #f0f000; }
.card.quests .list .effort60 { color: #f08000; }
.card.quests .list .effort240 { color: #f00000; }
.card.quests .list .effort1440 { color: #a335ee; }
.card.quests .list .invisible { color: #9D9D9D; }
.card.quests .list .complete { background-image: url(./icons/questionyellow.png); }

.card.friends .list .pending { color: #f0f000; }
.card.friends .list .incoming { color: #f00000; }
.card.friends .list .accepted { color: #00e000; }

.card.playerquests .list .quest { padding-left: 18px; margin-left: 18px; }
.card.playerquests .list .pending { background-image: url(./icons/asteriskyellow.png); }
.card.playerquests .list .running { background-image: url(./icons/questiongrey.png); }
.card.playerquests .list .complete { background-image: url(./icons/questionblue.png); }
.card.playerquests .list .validated { background-image: url(./icons/questionyellow.png); }
.card.playerquests .list .effort5 { color: #00e000; }
.card.playerquests .list .effort30 { color: #f0f000; }
.card.playerquests .list .effort60 { color: #f08000; }
.card.playerquests .list .effort240 { color: #f00000; }
.card.playerquests .list .effort1440 { color: #a335ee; }


.card.details {
    background-image: url(./images/paper.png);
    background-size: 100% 100%;
    color: black;
    text-shadow: none;
    margin-bottom: 32px;
}

.card.details .buttonrow.top {
    padding: 6px 10px;
    background-color: #442211cc;
    box-shadow: 0px 4px 9px 4px #442211cc;
    z-index: 100;
}

.card.details .content {
    padding: 10px;
    overflow: auto;
    font-size: 16px;
    flex: 1;
}

.card.details .content .title {
    font-variant: small-caps;
    text-transform: capitalize;
    font-size: 22px;
    text-shadow: 1px 2px 1px #000;
    margin: 8px 0 16px 0;
}
.card.details .content .title.effort5 { color: #00e000; }
.card.details .content .title.effort30 { color: #f0f000; }
.card.details .content .title.effort60 { color: #f08000; }
.card.details .content .title.effort240 { color: #f00000; }
.card.details .content .title.effort1440 { color: #a335ee; }

.card.details .rewards {
    background-color: #442211cc;
    box-shadow: 0px -3px 3px 2px #442211cc;
    z-index: 100;
}

.card.details .rewards .title {
    box-shadow: inset 0px -3px 3px 0px #000, 0px 0px 3px 0px #FFD100;
    font-variant: small-caps;
    text-transform: capitalize;
    font-size: 22px;
    color: white;
    text-align: center;
    padding: 3px;
}

.card.details .rewards .list { display: flex; }
.card.details .rewards .list div {
    background-color: #000d;
    position: relative;
    margin: 2px 5px 2px 43px;
    padding: 0 5px;
    line-height: 40px;
    flex: 1;
    color: white;
    text-shadow: 2px 2px 1px #000;
    font-size: 23px;
    box-shadow: inset -2px 1px 3px 2px #000, -1px 1px 2px -1px #fff;
    border-radius: 3px;
    z-index: 200;
}

.card.details .rewards .list div::before {
    content: "";
    width: 40px;
    height: 40px;
    display: block;
    position: absolute;
    left: -43px;
    top: 0;
}

.card.details .rewards .list .ep::before {
    background-image: url(./images/ep-icon.png);
}

.card.details .rewards .list .rubies::before {
    background-image: url(./images/gold-icon.png);
}

.card.details .rewards .list .rubies span { 
    width: 16px;
    height: 23px;
    display: inline-block;
    background-position: 0px 8px;
    background-repeat: no-repeat;
    margin: 0px 3px;
 }
.card.details .rewards .list .rubies .green { background-image: url(./icons/rupee_green.png); }
.card.details .rewards .list .rubies .blue { background-image: url(./icons/rupee_blue.png); }
.card.details .rewards .list .rubies .red { background-image: url(./icons/rupee_red.png); }

.card.details .buttonrow.bottom {
    position: fixed;
    bottom: 10px;
    display: flex;
    left: 13px;
    right: 15px;
}


.card.loggedin .buttonrow { display: none; margin: -3px 3px 1px 3px; }

.list {
    padding: 0 6px;
    margin: 6px 0;
    flex: 1;
    overflow: auto;
}

.list div {
    padding: 3px 0px 3px 18px;
    background-position: left 3px;
    background-repeat: no-repeat;
}

.list .topic {
    padding: 0;
}

.list .quest, .tab.friends .list div {
    cursor: pointer;
}

.list .quest:hover, .tab.friends .list div:hover {
    box-shadow: inset 0px 0px 10px -1px #FFD100;
    border-radius: 12px;
}

.list .topic .title {
    cursor: pointer;
    background-repeat: no-repeat;
    background-position: left 7px;
    background-image: url(./icons/minus.png);
    padding: 6px 0px 2px 18px;
}

.list .topic.closed .title { background-image: url(./icons/plus.png); }

.list .topic.closed .quest { display: none; }

.stats {
    color: white;
    position: relative;
    height: 76px;
    padding: 0 4px 0 71px;
    margin-right: 40px;
    text-shadow: 0px 0px 2px #000, 0px 0px 2px #000;
    flex: none;
}

.stats::before {
    content: "";
    position: absolute;
    background: url(./images/character-panel-right.png) top right no-repeat;
    z-index: 200;
    width: 9px;
    height: 76px;
    right: 0;
}

.stats > * { position: absolute; } /* raus damit */

.stats .avatar {
    position: absolute;
    background-image: url(./icons/avatar.png);
    width: 60px;
    height: 60px;
    background-size: 100%;
    left: 8px;
    top: 8px;
    border-radius: 30px;
    background-position: 0px 0px;
    cursor: pointer;
}

.stats .level {
    position: absolute;
    background-image: url(./images/ring.png);
    width: 28px;
    height: 24px;
    top: 49px;
    left: 7px;
    z-index: 200;
    background-color: #000000bb;
    border-radius: 16px;
    text-align: center;
    color: #FFD100;
    text-shadow: 2px 2px 1px #000;
    font-size: 11px;
    background-size: 28px 24px;
    padding-top: 6px;
}

.stats .avatar::before {
    content: "";
    position: absolute;
    background: url(./images/character-panel-left.png) repeat-x;
    height: 76px;
    z-index: 150;
    width: 74px;
    left: -8px;
    top: -8px;
}

.stats .content { position: relative; }

.stats .content::before {
    content: "";
    position: absolute;
    background: url(./images/character-panel-center.png) repeat-x;
    height: 76px;
    z-index: 100;
    width: 100%;
}

.stats .content .name { top: 18px;
    position: relative;
    font-size: 12px;
    left: 4px;
    color: #FFD100;
    text-shadow: 2px 2px 1px #000;
    text-align: center;
}

.stats .content .ep { background: red; position: absolute; height: 12px; width: 100%; top: 34px; }
.stats .content .ep .bar { text-align: center; position: absolute; height: 100%; background-color: #00DF00; }
.stats .content .ep .text { position: relative; font-size: 12px; z-index: 300; top: -1px; text-align: center; }

.stats .content .rubies { position: absolute; width: 100%; top: 41px; font-size: 12px; z-index: 300;text-align: center; }
.stats .content .rubies span { width: 8px; height: 14px; display: inline-block; background-size: 70%; background-position: 0px 5px; background-repeat: no-repeat; margin: 0px 2px }
.stats .content .rubies .green { background-image: url(./icons/rupee_green.png); }
.stats .content .rubies .blue { background-image: url(./icons/rupee_blue.png); }
.stats .content .rubies .red { background-image: url(./icons/rupee_red.png); }

.tabs {
    position: relative;
    background-image: url(./images/tabs-border-top-left.png), url(./images/tabs-border-top-right.png), url(./images/tabs-border-bottom-left.png), url(./images/tabs-border-bottom-right.png), url(./images/bg-marble.png);
    background-repeat: no-repeat, no-repeat, no-repeat, no-repeat, repeat;
    background-position: top left, top right, bottom left, bottom right, top left;
    border: solid transparent;
    border-width: 4px 2px 6px 3px;
    background-origin: border-box;
    background-clip: border-box, border-box, border-box, border-box, padding-box;
    flex: 1;
    overflow: hidden;
    display: flex;
    border-radius: 20px;
    padding: 4px;
}

.tabs::before {
    content: "";
    position: absolute;
    background-image: url(./images/tabs-border-top.png), url(./images/tabs-border-bottom.png);
    background-repeat: repeat-x;
    background-position: top, bottom;
    top: -4px;
    left: 7px;
    right: 7px;
    pointer-events: none;
    bottom: -6px;
}

.tabs::after {
    content: "";
    position: absolute;
    background-image: url(./images/tabs-border-left.png), url(./images/tabs-border-right.png);
    background-repeat: repeat-y;
    background-position: left, right;
    right: -2px;
    top: 7px;
    left: -3px;
    bottom: 7px;
    pointer-events: none;
}

.tabbuttons {
    margin: 0 0 -14px 11px;
    z-index: 400;
    position: relative;
    flex: none;
    overflow: auto;
    white-space: nowrap;
}

.tabbuttons::-webkit-scrollbar {
    display: none;
}

.tabbuttons button {
    position: relative;
    background-image: url(./images/tabs-border-top-left.png), url(./images/tabs-border-top-right.png), url(./images/lighten.png);
    background-repeat: no-repeat, no-repeat, repeat;
    background-position: top left, top right, top left;
    border: solid transparent;
    background-origin: border-box;
    background-clip: border-box, border-box, padding-box;
    border-width: 7px 5px 0px 5px;
    padding: 2px 5px 3px 5px;
    background-color: transparent;
    top: 0px;
    font-size: 13px;
    height: auto;
    background-size: unset;
    min-width: unset;
    color: white;
}

.tabbuttons button:active {
    color: white;
    text-shadow: 2px 2px 1px #000;
}

.tabbuttons button::before {
    content: "";
    position: absolute;
    background-image: url(./images/tabs-border-top.png);
    background-repeat: repeat-x;
    background-position: top;
    top: -7px;
    left: 9px;
    right: 9px;
    pointer-events: none;
    bottom: 0px;
}

.tabbuttons button::after {
    content: "";
    position: absolute;
    background-image: url(./images/tabs-border-left.png), url(./images/tabs-border-right.png);
    background-repeat: repeat-y;
    background-position: left, right;
    right: -5px;
    top: 7px;
    left: -5px;
    bottom: 1px;
    pointer-events: none;
}
